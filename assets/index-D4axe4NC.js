import{a as c}from"./main-CV-jdQ_C.js";function b(e){const s=c.useRef(e);return s.current=e,c.useMemo(()=>Object.freeze({get current(){return s.current}}),[])}function m(e){const s=b(e);c.useEffect(()=>()=>{s.current()},[])}const i=typeof globalThis<"u"&&typeof navigator<"u"&&typeof document<"u";function R(e){const s=b(e),n=c.useRef(0),t=c.useCallback(()=>{i&&n.current&&(cancelAnimationFrame(n.current),n.current=0)},[]);return m(t),[c.useMemo(()=>{const r=(...u)=>{i&&(t(),n.current=requestAnimationFrame(()=>{s.current(...u),n.current=0}))};return Object.defineProperties(r,{length:{value:e.length},name:{value:`${e.name||"anonymous"}__raf`}}),r},[]),t]}let o;function p(){if(!i)return;if(o)return o;const e=new Map,s=new ResizeObserver(n=>{for(const t of n){const r=e.get(t.target);if(!(r===void 0||r.size===0))for(const u of r)setTimeout(()=>{u(t)},0)}});return o={observer:s,subscribe(n,t){let r=e.get(n);r||(r=new Set,e.set(n,r),s.observe(n)),r.add(t)},unsubscribe(n,t){const r=e.get(n);r&&(r.delete(t),r.size===0&&(e.delete(n),s.unobserve(n)))}},o}function y(e,s,n=!0){const t=n&&p(),r=b(s),u=e&&"current"in e?e.current:e;c.useEffect(()=>{const f=e&&"current"in e?e.current:e;if(!t||!f)return;let a=!0;const l=(...d)=>{a&&r.current(...d)};return t.subscribe(f,l),()=>{a=!1,t.unsubscribe(f,l)}},[u,t])}export{R as a,y as b,m as c,i,b as u};
