var z=Object.defineProperty;var N=(r,t,p)=>t in r?z(r,t,{enumerable:!0,configurable:!0,writable:!0,value:p}):r[t]=p;var l=(r,t,p)=>N(r,typeof t!="symbol"?t+"":t,p);import{a as u,j as e,c as D,aE as M}from"./main-D-g3Tf5-.js";import{z as h}from"./index-mSkvzYyn.js";import{s as S}from"./colors-C3l38XnV.js";import{I as E}from"./view-input-DT9liz5R.js";import{s as m}from"./utils-BkWvjRoc.js";import{B as R}from"./button-A68ny3UQ.js";import{P as f,T as j}from"./code-block-BGOOd7ab.js";import{B as A}from"./layout-CijrSIdx.js";import{H as y}from"./header-DEPdYpa4.js";import{T as $}from"./table-DKXWIDaS.js";import{S as T}from"./separator-BVxaPIT_.js";import"./__vite-browser-external-D7Ct-6yo.js";const i=101,n=103,w=`p=43,30 v=73,-79
p=20,21 v=-72,96
p=24,57 v=-95,97
p=29,86 v=-19,83
p=30,80 v=-91,-16
p=45,19 v=30,-89
p=12,29 v=45,-46
p=86,51 v=-31,8
p=87,41 v=19,-16
p=86,1 v=-48,-91
p=20,18 v=-37,36
p=12,28 v=99,26
p=30,14 v=41,-2
p=55,101 v=29,-78
p=58,100 v=-89,25
p=87,45 v=79,16
p=70,29 v=-92,-45
p=31,1 v=-59,-34
p=46,45 v=19,-46
p=97,76 v=93,-6
p=83,50 v=53,66
p=0,37 v=89,-72
p=3,39 v=-13,-79
p=69,14 v=29,-65
p=45,81 v=61,-20
p=94,28 v=76,3
p=37,73 v=81,-29
p=7,15 v=-8,-18
p=21,57 v=97,-78
p=39,66 v=88,70
p=29,40 v=82,-87
p=69,68 v=38,-6
p=64,79 v=-81,-85
p=96,76 v=43,-29
p=91,77 v=-37,66
p=49,22 v=25,38
p=45,79 v=-68,26
p=14,53 v=-43,-37
p=33,21 v=-90,94
p=39,78 v=-71,91
p=24,36 v=87,-63
p=79,91 v=34,11
p=22,66 v=87,66
p=14,65 v=47,74
p=33,102 v=-11,-87
p=80,27 v=-72,-48
p=75,60 v=-39,65
p=14,61 v=88,49
p=49,67 v=10,-29
p=16,15 v=55,-3
p=73,86 v=54,35
p=2,71 v=-94,15
p=19,91 v=83,-60
p=87,41 v=-4,76
p=31,96 v=91,85
p=97,13 v=8,14
p=76,15 v=39,70
p=22,48 v=49,-62
p=33,43 v=-66,1
p=7,93 v=-3,-83
p=70,35 v=84,-95
p=38,85 v=26,-52
p=26,8 v=26,-26
p=62,72 v=-65,-98
p=48,89 v=69,-66
p=93,51 v=-78,25
p=38,62 v=72,56
p=85,26 v=-47,-1
p=99,13 v=-94,-48
p=75,28 v=-87,-98
p=75,102 v=-71,93
p=28,34 v=46,-37
p=66,76 v=70,3
p=26,79 v=-68,85
p=7,102 v=22,99
p=1,28 v=31,24
p=62,25 v=-16,-96
p=96,95 v=-93,28
p=70,56 v=-88,-27
p=1,90 v=-7,-76
p=69,70 v=65,99
p=21,79 v=-24,3
p=1,35 v=-3,-24
p=44,73 v=-60,-61
p=93,89 v=13,60
p=26,95 v=82,68
p=21,19 v=-74,30
p=8,70 v=-3,-61
p=26,52 v=-14,56
p=14,43 v=27,95
p=62,94 v=-21,85
p=49,91 v=30,-75
p=38,101 v=-45,-55
p=69,75 v=-16,66
p=52,25 v=8,-72
p=22,66 v=46,-92
p=10,28 v=22,-8
p=30,88 v=53,6
p=76,40 v=13,16
p=65,15 v=59,-66
p=61,50 v=30,64
p=58,61 v=40,34
p=33,77 v=35,-48
p=35,10 v=-90,84
p=15,43 v=-8,-64
p=92,82 v=-73,-61
p=17,83 v=-14,50
p=71,43 v=-30,-91
p=30,31 v=40,-36
p=18,21 v=-96,-29
p=25,96 v=26,-91
p=96,20 v=99,22
p=13,53 v=97,-37
p=0,29 v=-12,-79
p=78,62 v=23,-29
p=100,62 v=-63,35
p=35,66 v=20,-74
p=92,29 v=84,-23
p=61,90 v=30,83
p=3,42 v=-18,-79
p=79,41 v=44,95
p=80,27 v=-73,-89
p=81,4 v=29,21
p=66,96 v=-20,-90
p=18,66 v=-75,74
p=59,92 v=45,13
p=76,58 v=-37,-54
p=6,54 v=93,-15
p=84,56 v=-12,26
p=25,84 v=-83,19
p=35,19 v=46,-56
p=97,71 v=43,-77
p=22,94 v=-29,-51
p=40,63 v=42,14
p=86,33 v=54,-41
p=0,47 v=27,18
p=77,9 v=-95,-41
p=53,44 v=-61,64
p=2,53 v=8,16
p=66,71 v=-37,-6
p=51,25 v=-77,24
p=99,24 v=-17,-45
p=60,76 v=-56,-13
p=45,9 v=-15,-90
p=43,86 v=71,-44
p=35,40 v=-15,-24
p=96,74 v=-53,90
p=29,38 v=-14,-71
p=39,24 v=-55,39
p=98,65 v=38,-44
p=66,52 v=24,58
p=12,1 v=27,-66
p=38,77 v=-24,20
p=83,55 v=-53,-15
p=92,30 v=58,-64
p=36,49 v=-90,96
p=98,93 v=-79,-83
p=46,97 v=91,6
p=48,27 v=-67,-78
p=6,88 v=-3,-68
p=4,84 v=-13,60
p=38,46 v=11,64
p=62,17 v=-5,-97
p=52,2 v=-86,-89
p=97,86 v=69,36
p=57,1 v=65,-98
p=18,17 v=14,55
p=5,87 v=13,67
p=70,59 v=80,-22
p=76,89 v=-82,12
p=46,27 v=91,47
p=15,101 v=57,92
p=43,67 v=-25,-92
p=81,26 v=84,31
p=16,17 v=22,22
p=52,67 v=-66,66
p=64,92 v=-31,-51
p=89,47 v=-83,-55
p=9,88 v=-74,-99
p=38,41 v=71,-71
p=81,12 v=38,23
p=24,47 v=-50,34
p=58,35 v=29,28
p=17,47 v=32,18
p=99,20 v=28,-1
p=73,43 v=29,-55
p=45,34 v=-11,-48
p=57,1 v=71,-75
p=27,57 v=-89,62
p=65,63 v=-71,-60
p=44,75 v=-25,78
p=31,12 v=19,-75
p=15,28 v=-21,-2
p=43,36 v=6,-70
p=46,78 v=-85,66
p=48,56 v=94,-97
p=91,86 v=-71,-73
p=61,41 v=-52,-36
p=49,77 v=-63,-57
p=1,59 v=-7,-37
p=73,31 v=24,46
p=42,41 v=-55,40
p=62,64 v=-57,9
p=78,27 v=-37,-39
p=32,45 v=97,-87
p=3,1 v=29,-30
p=68,64 v=-92,-21
p=25,10 v=82,85
p=28,32 v=79,25
p=21,79 v=51,66
p=46,99 v=-20,-28
p=9,42 v=-99,71
p=99,29 v=-3,30
p=47,94 v=15,13
p=82,73 v=68,91
p=10,60 v=-23,33
p=75,75 v=54,74
p=98,28 v=-53,32
p=28,84 v=21,-45
p=75,97 v=-85,5
p=66,79 v=-60,-93
p=79,86 v=64,75
p=3,65 v=98,50
p=75,64 v=39,57
p=1,11 v=-73,-11
p=36,34 v=-65,95
p=50,94 v=-96,5
p=12,37 v=97,64
p=81,77 v=60,-46
p=74,41 v=-35,-64
p=79,1 v=77,-80
p=78,0 v=75,46
p=50,60 v=25,65
p=61,90 v=-49,-68
p=7,49 v=82,-48
p=55,1 v=-36,83
p=39,45 v=60,83
p=42,79 v=-35,-52
p=62,95 v=-97,-60
p=63,88 v=-21,76
p=49,39 v=80,24
p=81,53 v=44,-28
p=67,69 v=-7,16
p=50,76 v=40,-59
p=86,78 v=94,-38
p=52,84 v=46,83
p=0,51 v=-12,-93
p=6,66 v=-33,78
p=0,5 v=-99,-82
p=98,33 v=-28,-38
p=48,19 v=42,81
p=11,1 v=-89,-91
p=62,99 v=60,76
p=36,62 v=99,-22
p=1,59 v=42,88
p=96,62 v=-28,57
p=76,102 v=-85,11
p=86,90 v=-17,-43
p=41,95 v=75,11
p=73,85 v=-72,60
p=40,38 v=35,64
p=11,11 v=7,-34
p=21,50 v=11,64
p=1,21 v=-68,70
p=70,73 v=44,58
p=97,51 v=43,-46
p=34,23 v=57,55
p=56,29 v=79,18
p=38,64 v=31,50
p=77,16 v=-9,56
p=3,53 v=-8,-23
p=21,33 v=-79,9
p=31,48 v=-95,72
p=56,97 v=-66,-75
p=96,90 v=-83,75
p=41,45 v=80,3
p=93,18 v=-78,7
p=60,13 v=-86,76
p=24,13 v=77,54
p=28,47 v=21,-85
p=19,82 v=33,-93
p=32,45 v=21,40
p=43,84 v=-45,-67
p=52,46 v=-2,34
p=92,64 v=93,81
p=54,67 v=-76,3
p=12,54 v=98,-29
p=100,62 v=-33,-93
p=11,26 v=39,-16
p=7,98 v=-30,-93
p=53,52 v=40,-62
p=74,68 v=-36,-20
p=4,37 v=-44,96
p=58,22 v=-66,23
p=63,1 v=-41,21
p=92,47 v=-73,33
p=38,84 v=17,-94
p=94,41 v=-98,-87
p=78,81 v=-57,-52
p=14,28 v=-95,-31
p=100,67 v=48,-5
p=66,29 v=90,-72
p=86,32 v=67,-8
p=87,101 v=94,85
p=54,65 v=-45,-45
p=0,5 v=-53,44
p=4,68 v=73,11
p=64,31 v=-92,55
p=69,59 v=-92,-70
p=37,30 v=80,-11
p=100,57 v=93,9
p=19,99 v=31,-18
p=17,42 v=62,56
p=28,93 v=27,5
p=53,88 v=30,-28
p=19,25 v=82,48
p=42,78 v=-66,9
p=63,39 v=60,8
p=1,57 v=51,42
p=62,6 v=-5,-42
p=76,43 v=-88,48
p=99,1 v=-43,-91
p=93,40 v=-2,40
p=41,68 v=-97,20
p=28,99 v=-4,77
p=78,13 v=-82,-34
p=82,27 v=79,-40
p=90,64 v=33,-22
p=20,85 v=-81,-34
p=70,19 v=14,86
p=66,67 v=-52,25
p=55,86 v=25,-44
p=61,10 v=50,46
p=60,50 v=-15,96
p=30,71 v=16,19
p=70,8 v=-82,6
p=77,5 v=-83,93
p=32,21 v=-11,-54
p=37,66 v=-63,18
p=97,80 v=33,43
p=47,81 v=31,-17
p=20,71 v=62,-5
p=6,13 v=67,30
p=3,60 v=71,75
p=95,57 v=28,-5
p=29,40 v=77,87
p=40,100 v=-20,13
p=24,32 v=87,55
p=30,94 v=-4,-82
p=11,102 v=-58,37
p=0,26 v=48,-25
p=0,26 v=61,-38
p=81,15 v=65,54
p=19,59 v=-14,-22
p=51,100 v=-24,17
p=96,14 v=48,-18
p=0,86 v=68,-82
p=10,27 v=93,78
p=85,77 v=-9,-80
p=84,43 v=-2,96
p=46,22 v=-20,-40
p=68,75 v=24,50
p=29,89 v=-19,67
p=65,78 v=65,11
p=82,11 v=95,85
p=83,48 v=18,26
p=61,58 v=38,19
p=35,77 v=36,-99
p=63,6 v=-31,-42
p=98,71 v=22,99
p=2,25 v=-43,-64
p=54,67 v=-66,-5
p=10,88 v=-25,2
p=83,71 v=17,50
p=88,19 v=-22,46
p=20,2 v=42,-26
p=8,44 v=-48,-6
p=11,15 v=-58,-34
p=51,54 v=55,-7
p=15,70 v=-24,-75
p=74,62 v=68,-31
p=75,84 v=14,83
p=48,25 v=-15,-88
p=47,100 v=81,-90
p=88,6 v=-2,22
p=26,85 v=-24,-83
p=95,67 v=76,83
p=19,101 v=-34,52
p=46,51 v=76,-22
p=90,0 v=33,-27
p=6,1 v=63,-90
p=8,72 v=98,-76
p=99,89 v=56,59
p=22,84 v=-44,-60
p=42,25 v=-38,82
p=59,45 v=-31,-63
p=14,9 v=-95,1
p=2,45 v=-58,-2
p=65,46 v=-1,49
p=74,13 v=84,5
p=9,62 v=-19,-15
p=61,76 v=-86,-56
p=97,44 v=-84,-38
p=61,27 v=65,-9
p=22,73 v=47,50
p=1,57 v=-43,57
p=76,77 v=-47,-20
p=77,24 v=-32,-1
p=53,22 v=45,46
p=38,81 v=61,-92
p=92,58 v=-57,-21
p=86,18 v=63,6
p=40,90 v=87,3
p=15,25 v=-59,-64
p=20,6 v=-8,52
p=5,76 v=-95,-98
p=43,61 v=-52,29
p=83,34 v=36,18
p=2,81 v=47,66
p=7,52 v=12,65
p=22,0 v=12,-49
p=80,59 v=-17,49
p=60,20 v=30,41
p=47,76 v=14,21
p=43,96 v=71,37
p=11,1 v=92,-43
p=57,88 v=-42,-46
p=70,70 v=4,-13
p=61,31 v=-11,-56
p=31,28 v=45,40
p=43,64 v=-10,2
p=53,98 v=-86,-98
p=39,96 v=-40,-35
p=53,82 v=38,-84
p=3,85 v=-94,4
p=44,4 v=75,11
p=74,49 v=-69,-81
p=0,73 v=78,-30
p=90,77 v=-20,84
p=3,5 v=-3,-82
p=37,18 v=96,-8
p=20,100 v=87,-82
p=93,59 v=-73,42
p=90,82 v=43,-84
p=53,73 v=-91,-53
p=26,14 v=97,-26
p=90,16 v=18,-41
p=28,2 v=-5,-78
p=46,1 v=-11,17
p=33,1 v=-65,-98
p=80,24 v=-16,-80
p=19,83 v=47,-92
p=10,49 v=-14,-31
p=5,29 v=-84,30
p=80,61 v=11,-72
p=36,35 v=-14,78
p=85,24 v=23,-63
p=63,39 v=45,-16
p=10,95 v=4,88
p=14,56 v=-67,10
p=9,2 v=-64,13
p=79,63 v=-73,65
p=38,7 v=24,96
p=1,7 v=-33,-65
p=16,13 v=39,8
p=32,84 v=92,58
p=85,83 v=83,-49
p=55,102 v=-42,56
p=14,43 v=-18,-64
p=75,38 v=29,79
p=25,3 v=-44,78
p=34,47 v=-26,-22
p=88,56 v=13,-94
p=45,17 v=-90,-58
p=85,20 v=-17,14
p=49,2 v=-49,18
p=39,83 v=82,-67
p=38,76 v=-98,-79
p=46,94 v=54,14
p=11,75 v=-63,13
p=59,51 v=-92,-67
p=96,69 v=68,-93
p=42,96 v=-68,-84
p=97,19 v=-58,-2
p=21,33 v=-8,39
p=28,6 v=82,93
p=15,74 v=-80,-50
p=84,24 v=-28,30
p=84,74 v=99,27
p=2,23 v=99,-1
p=65,100 v=59,-82
p=89,99 v=29,-97
p=85,56 v=-92,91
p=90,81 v=-83,-12
p=94,21 v=33,-97
p=67,34 v=82,-19
p=88,37 v=-43,41
p=88,67 v=54,-14
p=35,98 v=29,-22
p=19,9 v=-44,-18`,W=h.array(h.string().transform(r=>{const t=r.replace("p=","").replace(" v=",",").split(",");return{px:t[0],py:t[1],vx:t[2],vy:t[3]}}).pipe(h.object({px:h.coerce.number(),py:h.coerce.number(),vx:h.coerce.number(),vy:h.coerce.number()}))),G=W.parse(w.split(`
`)),_=100,g=400,q=400;let F=class{constructor(t){l(this,"px");l(this,"py");l(this,"vx");l(this,"vy");l(this,"color");this.px=t.px,this.py=t.py,this.vx=t.vx,this.vy=t.vy,this.color=S(JSON.stringify(t))}step(){for(this.px+=this.vx,this.py+=this.vy;this.px<0;)this.px=i+this.px;for(;this.px>=i;)this.px=this.px-i;for(;this.py<0;)this.py=n+this.py;for(;this.py>=n;)this.py=this.py-n}quadrant(){const t=this.px>=0&&this.px<Math.floor(i/2),p=this.px>=Math.ceil(i/2)&&this.px<=i,s=this.py>=0&&this.py<Math.floor(n/2),o=this.py>=Math.ceil(n/2)&&this.py<=n;return t&&s?"q1":p&&s?"q2":p&&o?"q3":t&&o?"q4":null}},H=class{constructor(){l(this,"robots");this.robots=G.map(t=>new F(t))}step(){this.robots.forEach(t=>t.step())}safetyFactor(){const t={q1:0,q2:0,q3:0,q4:0};return this.robots.forEach(p=>{const s=p.quadrant();s&&(t[s]+=1)}),t.q1*t.q2*t.q3*t.q4}rows(){const t=[];for(let p=0;p<n;p+=1){let s="";for(let o=0;o<i;o+=1){const a=this.robots.filter(v=>v.px===o&&v.py===p);a.length>0?s=`${s}${a.length}`:s=`${s} `}t.push(s)}return t}};function B(){const[r,t]=u.useState("unstarted"),[p,s]=u.useState(0),o=u.useRef();o.current||(o.current=new H);const a=u.useCallback(async()=>{t("in-progress"),s(0);const v=new H;o.current=v;for(let x=0;x<_;x+=1)s(d=>d+1),v.step(),await m(500);t("complete")},[t,s]);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mt-4 flex gap-x-4",children:[e.jsx("div",{children:e.jsx(E,{input:w})}),e.jsx("div",{children:e.jsx(R,{size:"lg",onClick:a,disabled:r==="in-progress",children:"Process Input"})})]}),e.jsxs("div",{className:"mt-4 tabular-nums",children:[e.jsxs("div",{children:["Iterations: ",p]}),e.jsxs("div",{children:["Safety Factor: ",e.jsx("code",{children:o.current.safetyFactor()})]}),e.jsx("pre",{className:"mt-0",children:e.jsx("code",{className:"relative",style:{height:q,width:g},children:o.current.robots.map((v,x)=>e.jsx("div",{className:"absolute transition-all duration-500 ease-linear",style:{top:v.py/n*q,left:v.px/i*g,height:q/n,width:g/i,backgroundColor:v.color}},x))})})]})]})}const Y=h.array(h.string().transform(r=>{const t=r.replace("p=","").replace(" v=",",").split(",");return{px:t[0],py:t[1],vx:t[2],vy:t[3]}}).pipe(h.object({px:h.coerce.number(),py:h.coerce.number(),vx:h.coerce.number(),vy:h.coerce.number()}))),L=Y.parse(w.split(`
`)),I=400,P=400;class Q{constructor(t){l(this,"px");l(this,"py");l(this,"vx");l(this,"vy");l(this,"color");this.px=t.px,this.py=t.py,this.vx=t.vx,this.vy=t.vy,this.color=S(JSON.stringify(t))}step(){for(this.px+=this.vx,this.py+=this.vy;this.px<0;)this.px=i+this.px;for(;this.px>=i;)this.px=this.px-i;for(;this.py<0;)this.py=n+this.py;for(;this.py>=n;)this.py=this.py-n}}class k{constructor(){l(this,"robots");this.robots=L.map(t=>new Q(t))}step(){this.robots.forEach(t=>t.step())}robotPositionsAreUnique(){const t=new Set;for(const p of this.robots){const s=`${p.py},${p.px}`;if(t.has(s))return!1;t.add(s)}return!0}rows(){const t=[];for(let p=0;p<n;p+=1){let s="";for(let o=0;o<i;o+=1){const a=this.robots.filter(v=>v.px===o&&v.py===p);a.length>0?s=`${s}${a.length}`:s=`${s} `}t.push(s)}return t}}const b={off:0,fast:100,moderate:200,slow:500,"super-slow":1e3};function U(){const[r,t]=u.useState("unstarted"),[p,s]=u.useState(0),[o,a]=u.useState("off"),v=u.useRef();v.current||(v.current=new k);const x=u.useCallback(async()=>{t("in-progress"),s(0),a("off");const d=new k;v.current=d;let c=0;for(;!d.robotPositionsAreUnique();)s(C=>C+1),c+=1,d.step(),c%13===0&&await m(1),c>6863&&c<=6873?(a("fast"),await m(b.fast)):c>6873&&c<=6878?(a("moderate"),await m(b.moderate)):c>6878&&c<=6883?(a("slow"),await m(b.slow)):c>6883&&(a("super-slow"),await m(b["super-slow"]));t("complete")},[t,s,a]);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mt-4 flex items-center gap-x-4",children:[e.jsx("div",{children:e.jsx(E,{input:w})}),e.jsx("div",{children:e.jsx(R,{size:"lg",onClick:x,disabled:r==="in-progress",children:"Process Input"})})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("div",{className:"text-rose-800",children:"WARNING"}),e.jsxs("div",{children:["This takes a several seconds to process. My answer was ",e.jsx("code",{children:"6888"}),", so it'll take that many iterations until the result is displayed. I've hard-coded the animation timing to look good for my input."]})]}),e.jsxs("div",{className:"mt-4 tabular-nums",children:[e.jsxs("div",{children:["Iterations: ",p]}),e.jsx("pre",{className:"mt-0",children:e.jsx("code",{className:"relative",style:{height:P,width:I},children:v.current.robots.map((d,c)=>e.jsx("div",{className:D("absolute",o!=="off"?"transition-all ease-linear":""),style:{top:d.py/n*P,left:d.px/i*I,height:P/n,width:I/i,backgroundColor:d.color,transitionDuration:`${b[o]}ms`}},c))})})]})]})}const ae=function(){return e.jsxs(e.Fragment,{children:[e.jsx(A,{to:M.fullPath}),e.jsx(y,{hash:"part-1-prompt",children:"Part 1 – Prompt"}),e.jsx("p",{children:"One of The Historians needs to use the bathroom; fortunately, you know there's a bathroom near an unvisited location on their list, and so you're all quickly teleported directly to the lobby of Easter Bunny Headquarters."}),e.jsxs("p",{children:['Unfortunately, EBHQ seems to have "improved" bathroom security ',e.jsx("em",{children:"again"})," after your last"," ",e.jsx("a",{href:"https://adventofcode.com/2016/day/2",target:"_blank",children:"visit"}),". The area outside the bathroom is swarming with robots!"]}),e.jsxs("p",{children:["To get The Historian safely to the bathroom, you'll need a way to predict where the robots will be in the future. Fortunately, they all seem to be moving on the tile floor in predictable ",e.jsx("em",{children:"straight lines"}),"."]}),e.jsxs("p",{children:["You make a list (your puzzle input) of all of the robots' current ",e.jsx("em",{children:"positions"})," ","(",e.jsx("code",{children:"p"}),") and ",e.jsx("em",{children:"velocities"})," (",e.jsx("code",{children:"v"}),"), one robot per line. For example:"]}),e.jsx(f,{content:`p=0,4 v=3,-3
p=6,3 v=-1,-3
p=10,3 v=-1,2
p=2,0 v=2,-1
p=0,0 v=1,3
p=3,0 v=-2,-2
p=7,6 v=-1,-3
p=3,0 v=-1,-2
p=9,3 v=2,3
p=7,3 v=-1,2
p=2,4 v=2,-3
p=9,5 v=-3,-3`}),e.jsxs("p",{children:["Each robot's position is given as ",e.jsx("code",{children:"p=x,y"})," where ",e.jsx("code",{children:"x"})," represents the number of tiles the robot is from the left wall and ",e.jsx("code",{children:"y"})," represents the number of tiles from the top wall (when viewed from above). So, a position of"," ",e.jsx("code",{children:"p=0,0"})," means the robot is all the way in the top-left corner."]}),e.jsxs("p",{children:["Each robot's velocity is given as ",e.jsx("code",{children:"v=x,y"})," where ",e.jsx("code",{children:"x"})," and"," ",e.jsx("code",{children:"y"})," are given in ",e.jsx("em",{children:"tiles per second"}),". Positive ",e.jsx("code",{children:"x"})," means the robot is moving to the ",e.jsx("em",{children:"right"}),", and positive ",e.jsx("code",{children:"y"})," means the robot is moving ",e.jsx("em",{children:"down"}),". So, a velocity of ",e.jsx("code",{children:"v=1,-2"})," means that each second, the robot moves ",e.jsx("code",{children:"1"})," tile to the right and ",e.jsx("code",{children:"2"})," tiles up."]}),e.jsxs("p",{children:["The robots outside the actual bathroom are in a space which is ",e.jsx("code",{children:"101"})," ","tiles wide and ",e.jsx("code",{children:"103"})," tiles tall (when viewed from above). However, in this example, the robots are in a space which is only ",e.jsx("code",{children:"11"})," tiles wide and"," ",e.jsx("code",{children:"7"})," tiles tall."]}),e.jsx("p",{children:"The robots are good at navigating over/under each other (due to a combination of springs, extendable legs, and quadcopters), so they can share the same tile and don't interact with each other. Visually, the number of robots on each tile in this example looks like this:"}),e.jsx(f,{content:`1.12.......
...........
...........
......11.11
1.1........
.........1.
.......1...`}),e.jsxs("p",{children:["These robots have a unique feature for maximum bathroom security: they can"," ",e.jsx("em",{children:"teleport"}),". When a robot would run into an edge of the space they're in, they instead ",e.jsx("em",{children:"teleport to the other side"}),", effectively wrapping around the edges. Here is what robot ",e.jsx("code",{children:"p=2,4 v=2,-3"})," does for the first few seconds:"]}),e.jsx(f,{content:`Initial state:
...........
...........
...........
...........
..1........
...........
...........

After 1 second:
...........
....1......
...........
...........
...........
...........
...........

After 2 seconds:
...........
...........
...........
...........
...........
......1....
...........

After 3 seconds:
...........
...........
........1..
...........
...........
...........
...........

After 4 seconds:
...........
...........
...........
...........
...........
...........
..........1

After 5 seconds:
...........
...........
...........
.1.........
...........
...........
...........`}),e.jsxs("p",{children:["The Historian can't wait much longer, so you don't have to simulate the robots for very long. Where will the robots be after ",e.jsx("code",{children:"100"})," seconds?"]}),e.jsx("p",{children:"In the above example, the number of robots on each tile after 100 seconds has elapsed looks like this:"}),e.jsx(f,{content:`......2..1.
...........
1..........
.11........
.....1.....
...12......
.1....1....`}),e.jsxs("p",{children:["To determine the safest area, count the ",e.jsx("em",{children:"number of robots in each quadrant"})," ","after 100 seconds. Robots that are exactly in the middle (horizontally or vertically) don't count as being in any quadrant, so the only relevant robots are:"]}),e.jsx(f,{content:`..... 2..1.
..... .....
1.... .....
           
..... .....
...12 .....
.1... 1....`}),e.jsxs("p",{children:["In this example, the quadrants contain ",e.jsx("code",{children:"1"}),", ",e.jsx("code",{children:"3"}),","," ",e.jsx("code",{children:"4"}),", and ",e.jsx("code",{children:"1"})," robot. Multiplying these together gives a total"," ",e.jsx("em",{children:"safety factor"})," of"," ",e.jsx("code",{children:e.jsx("em",{children:"12"})}),"."]}),e.jsxs("p",{children:["Predict the motion of the robots in your list within a space which is"," ",e.jsx("code",{children:"101"})," tiles wide and ",e.jsx("code",{children:"103"})," tiles tall."," ",e.jsx("em",{children:"What will the safety factor be after exactly 100 seconds have elapsed?"})]}),e.jsx(y,{hash:"part-1-solution",children:"Part 1 – Solution"}),e.jsx(B,{}),e.jsxs("p",{className:"mt-4",children:["I used ",e.jsx("code",{children:"zod"})," to transform the input into structured data:"]}),e.jsx(j,{content:`const parser = z.array(
    z
        .string()
        .transform((value) => {
            const groups = value.replace("p=", "").replace(" v=", ",").split(",");

            return {
                px: groups[0],
                py: groups[1],
                vx: groups[2],
                vy: groups[3],
            };
        })
        .pipe(
            z.object({
                px: z.coerce.number(),
                py: z.coerce.number(),
                vx: z.coerce.number(),
                vy: z.coerce.number(),
            })
        )
);

const values = parser.parse(input.split("\\n"));`}),e.jsxs("p",{children:["The robots keep track of their position and velocity, and are randomly assigned a color on instantiation. Each robot has a ",e.jsx("code",{children:"step"})," method and a"," ",e.jsx("code",{children:"quadrant"})," method, which calculate the current quadrant the robot is in (if it's in one)."]}),e.jsxs("p",{children:["The only unusual part is the ",e.jsx("code",{children:"step"}),' method, which has some extra logic to "teleport" the robot to the other side of the map if it leaves the map.']}),e.jsx(j,{content:`type Quadrant = "q1" | "q2" | "q3" | "q4";
type RobotProps = z.infer<typeof parser>[number];

class Robot {
    px: number;
    py: number;
    vx: number;
    vy: number;

    constructor(props: RobotProps) {
        this.px = props.px;
        this.py = props.py;
        this.vx = props.vx;
        this.vy = props.vy;
    }

    step() {
        this.px += this.vx;
        this.py += this.vy;

        while (this.px < 0) {
            this.px = WIDTH + this.px;
        }

        while (this.px > WIDTH) {
            this.px = this.px - WIDTH;
        }

        while (this.py < 0) {
            this.py = HEIGHT + this.py;
        }

        while (this.py > HEIGHT) {
            this.py = this.py - HEIGHT;
        }
    }
    
    quadrant(): Quadrant | null {
        const left = this.px >= 0 && this.px < Math.floor(WIDTH / 2);
        const right = this.px >= Math.ceil(WIDTH / 2) && this.px <= WIDTH;
        const top = this.py >= 0 && this.py < Math.floor(HEIGHT / 2);
        const bottom = this.py >= Math.ceil(HEIGHT / 2) && this.py <= HEIGHT;

        if (left && top) return "q1";

        if (right && top) return "q2";

        if (right && bottom) return "q3";

        if (left && bottom) return "q4";

        return null;
    }
}
`}),e.jsx("p",{children:"The map keeps track of robots and provides some helper methods."}),e.jsx(j,{content:`class Map {
    robots: Array<Robot>;

    constructor() {
        this.robots = values.map((value) => new Robot(value));
    }

    step() {
        this.robots.forEach((robot) => robot.step());
    }

    safetyFactor() {
        const quadrantCount: Record<Quadrant, number> = {
            q1: 0,
            q2: 0,
            q3: 0,
            q4: 0,
        };

        this.robots.forEach((robot) => {
            const quadrant = robot.quadrant();

            if (quadrant) quadrantCount[quadrant] += 1;
        });

        return quadrantCount.q1 * quadrantCount.q2 * quadrantCount.q3 * quadrantCount.q4;
    }
}
`}),e.jsx(T,{}),e.jsx(y,{hash:"part-2-prompt",children:"Part 2 – Prompt"}),e.jsxs("p",{children:["During the bathroom break, someone notices that these robots seem awfully similar to ones built and used at the North Pole. If they're the same type of robots, they should have a hard-coded"," ",e.jsx("span",{title:"This puzzle was originally going to be about the motion of space rocks in a fictitious arcade game called Meteoroids, but we just had an arcade puzzle.",children:"Easter egg"}),": very rarely, most of the robots should arrange themselves into"," ",e.jsx("em",{children:"a picture of a Christmas tree"}),"."]}),e.jsx("p",{children:e.jsx("em",{children:"What is the fewest number of seconds that must elapse for the robots to display the Easter egg?"})}),e.jsx(y,{hash:"part-2-solution",children:"Part 2 – Solution"}),e.jsx(U,{}),e.jsx("p",{className:"mt-4",children:"To find the Easter egg, we run the robots until the robots are in a unique (non-overlapping) formation."}),e.jsxs("p",{children:["This uses almost identical code to Part 1, but adds a new method to the"," ",e.jsx("code",{children:"Map"})," class:"]}),e.jsx(j,{content:`class Map {
    ...

    robotPositionsAreUnique() {
        const seenPositions = new Set<string>();

        for (const robot of this.robots) {
            const strPosition = \`\${robot.py},\${robot.px}\`;

            if (seenPositions.has(strPosition)) return false;

            seenPositions.add(strPosition);
        }

        return true;
    }
    
    ...
}
`}),e.jsx(T,{}),e.jsx(y,{hash:"recap",children:"Recap"}),e.jsxs($,{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Part 1 Time"}),e.jsx("th",{children:"Part 1 Rank"}),e.jsx("th",{children:"Part 2 Time"}),e.jsx("th",{children:"Part 2 Rank"})]})}),e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{children:"00:44:08"}),e.jsx("td",{children:"4,955"}),e.jsx("td",{children:"01:04:10"}),e.jsx("td",{children:"3,008"})]})})]}),e.jsx("p",{children:'Part 1 was really fun! The "teleport" logic took a little bit of thought, but the problem was very straightforward and very fun to animate.'}),e.jsxs("p",{children:["I think Part 2 was more than a little ridiculous. I had no idea what I was even trying to solve for, so I ended up looking at the"," ",e.jsx("a",{href:"https://www.reddit.com/r/adventofcode/comments/1hdvhvu/2024_day_14_solutions/",target:"_blank",children:"Advent of Code subreddit"})," ",`to see what others were even trying to do. If the prompt had provided any sort of guidance (i.e. "robots must not occupy the same space"), this would've been both solvable and fun! As is, the prompt left me totally stuck with no ideas what to even try doing.`]}),e.jsxs("p",{children:["When I saw Part 1, I thought this would've been a (nearly) identical problem to"," ",e.jsx("a",{href:"https://adventofcode.com/2023/day/14",target:"_blank",children:"Advent of Code 2023 Day 14"}),", where Part 2 required you to find positions after ",e.jsx("em",{children:"far more steps"})," that what Part 1 asked for. I was really excited about this, as I enjoyed this challenge last year, even though Part 2 took over an hour to solve on it's own."]}),e.jsx("p",{children:"Part 2 for this year was a bit disappointing. But I'm also glad it was easy to code once I understood the challenge."})]})};export{ae as component};
