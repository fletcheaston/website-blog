var b=Object.defineProperty;var T=(n,i,s)=>i in n?b(n,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[i]=s;var r=(n,i,s)=>T(n,typeof i!="symbol"?i+"":i,s);import{r as h,j as e,d as O}from"./index-PqC9iza9.js";import{I as j,z as v}from"./view-input-Bt-UhX0B.js";import{B as k}from"./button-DlkBeRnu.js";import{P as p,T as S}from"./code-block-D1IX-jam.js";import{B as C}from"./layout-BDi6-wQ4.js";import{H as x}from"./header-DiOk6VOn.js";import{T as E}from"./table-BDCiqE9D.js";import{S as P}from"./separator-BKvhi7ks.js";import"./routeInfo-BgSgfEJj.js";const u=`#############################################################################################################################################
#.........#.........#...........#.....#.............#.........................#.........#.............#...#.#.........#...................#E#
#.#.#####.#.###.###.###.###.#.#.#.#.###.#########.#.#.###.#######.#.#########.#.#####.#.#.#####.#####.#.#.#.#.###.#.#.#.#######.#########.#.#
#.#.....#.......#.#.....#.......#.#.#...#...#.#...#.#...#.#.#...#.#.#.....#.#.#.#.....#.#.#...#.....#...#.#.....#...#.#.#.#...#.....#...#.#.#
#.#####.###.#####.#.#######.#.###.#.#.#.#.#.#.#.###.#.#.#.#.#.#.#.#.#.###.#.#.###.###.#.#.###.#####.#####.###.###.#####.#.#.#.#####.#.#.#.#.#
#.....#.....#...#...#.......#.#...#.#...#.#...#...#...#.#.#...#...#...#...#.......#.#...#.#.....#...#...#...#.#...#.......#.#.....#.#.#...#.#
#########.#.#.###.###.#####.###.###.###.#.#.#####.###.#.#.#.###########.#####.#####.#.#.#.#.###.#.###.#.###.###.#.#.#######.#####.#.###.###.#
#...........#.....#...#...#.......#...#.#.#.#...#...#...#.#...#.#.....#...#...........#.#...#.#.....................#.#...#.#.#...#...#.....#
#.#########.#.#####.###.#.#.#######.###.#.###.#.###.#.###.###.#.#.#.#.###.#.#.#.###.###.#####.#.#########.#######.###.#.#.#.#.#.#####.#####.#
#...#...#...#.....#...#.#.#...#.....#...#.#...#.....#...#...#.#...#.#.....#.#.#.#...#...#.......#...#...#.#...#...#...#.#...#.........#...#.#
###.#.#.#.#.#######.#.#.#.#.#.#.#####.#.#.#.#.#####.#.#.###.#.#####.#####.#.#.#.#.#####.#.#######.#.#.###.#.#.#.#.###.#.###############.#.#.#
#...#.#...#.....#...#.#.#...................#.#...#...#...#.#...........................#.#.....#.#.#...#.#.#...#.....#.#...............#.#.#
#.###.#########.#.#.#.#.#.#####.#.#.#.#.#.#.###.#.###.###.#.#########.#.###.#.#.###.###.#.#.#.#.#.#.#.#.#.#.#####.###.#.#.###.###########.#.#
#.#...#.....#.#.#.#...#.#.#...#...#.#...#.#.....#...#.#...#...#...#...#.....#.#.#...#...#.#.#.#...#.#.#.#.#.#.....#...#.........#...#.....#.#
#.#.###.###.#.#.#.#####.###.#.#####.#####.#########.#.#.#####.#.#.#.#########.#.###.#.#.#.###.#####.###.#.#.###.#.#.#########.#.#.#.#.#######
#.#...#...#...#.#...#.....#.#...#.......#...#.....#.....#...#...#.#.....#...........#...#.#...#...#.....#.#.....#...#.....#...#...#.#.......#
#.###.###.###.#.###.#.###.#.###.#.#####.###.#.###.#########.#####.#####.#.###########.###.#.#####.#####.#.#######.###.###.#.#######.#######.#
#...#...#.#...#.....#.....#.#.....#.........#.#...#.........#...#.......#.#.....#.....#...#.....#.#.....#...#.....#...#.#.#.........#.......#
###.###.#.#.###.#.#.#.#####.#####.#.#########.#.#######.###.###.###.###.#.#.###.#.#####.#######.#.#.#######.#.#####.###.#.#########.#.#####.#
#.........#...#.#.#.#...........#.#.....#.#...#...#.....#.#...#...#.....#.....#.....#...#.......#...#.....#...#.....#...........#.....#.....#
#.###.#####.#.#.###.#####.#####.#.#.#.#.#.#.#.###.#.#####.###.###.#.###.###.#.#####.#.###.#######.###.###.###.###.#.#.#########.#.#.###.#####
#.............#...#.........#...#.#...#.#.....#.#...#.........#...#.#.#.....#.....#.#.#...#.....#.#.#.#.#...#.....#.#...#.#...#...#...#...#.#
#.###.#.#.#.#####.#########.#.###.#####.#####.#.#.#####.#######.#.#.#.#####.#####.#.#.#.#####.#.#.#.#.#.###.#####.#.###.#.#.#.#####.#.###.#.#
#.#.#.#.#...#.....#...#.....#.#.......#.......#...#...#.........#.#.#.....#...#...#.#.#...#...#.#...#.#...#.....#.#.#.....#.............#...#
#.#.#.###.#.#.###.#.###.#####.#.#####.#.#.###.#####.#.###########.#.###.#.###.#.###.#.###.#.#####.###.#.#######.###.#######.###.#####.#.###.#
#.#.#.....#...#.#...#.....#...#.#.#.....#.#.#.#.....#.#.........#.#...#.#...#.#.#...#.....#.......#...#.....#.#.....#.......#...#...#.#...#.#
#.#.#.#####.###.###.#.#####.###.#.#.#####.#.#.#.#####.#.#########.###.#####.#.#.###########.#######.###.#.#.#.###.#.#.#######.###.#.###.###.#
#.........#.#.....#.#.#.#...#.#...#.....#.#.#.#...#...#...#.....#.#.#.#...#.#.#...#.....#...#.....#.#...#.#...#...#.#.#.....#.#...#.#...#...#
#.###.#####.#.#.###.#.#.#.###.###.#####.#.#.#.###.#.###.#.#.###.#.#.#.#.#.#.#.#.#.#.###.#.###.###.#.#####.###.###.#.#.#.###.#.#.###.#.###.###
#.#.........#.#.#...#.#.#.#...#...#.....#.#.#.#...#.#...#...#.#...#.#.#.#...#...#...#...#.....#...#.#.....#.......#.#.....#.#.#.#.....#...#.#
###.#.#########.#.###.#.#.#.###.###.#.###.#.#.#.###.###.#####.#####.#.#.#####.#.#####.###.#####.###.#.###########.#.#######.#.#.#####.#.###.#
#...#...........#.#.....#.#.......#...#...#...#...#...#.#.....#...#.#.#.......#.#...#.....#...#.#...#.#.....#...#.#...#...#.#.#.....#.#...#.#
#.#########.#####.#.#####.#####.#####.#.#####.###.###.#.###.#.#.#.#.#.#.#.#.###.###.#######.#.#.#.###.#.###.#.#.#.###.#.#.#.#.#.###.#####.#.#
#...#.....#.......#...#...#...#.#.....#.............#.#.....#...#.....#.#.....#.........#.#.#...#.#.#...#...#.#.#.#...#.#.#.#.#...#.........#
###.#.###.###########.#.###.#.###.###################.#############.#.#######.#########.#.#.#.###.#.#.###.#.###.#.#.###.#.#.#.###.#####.###.#
#...#.#.#.............#...#.#.#...............#...#...#...#.....#...#.....#.#...#.....#...#.#.............#...#...#.#.#.#...#.#.#.....#...#.#
#.###.#.#################.#.#.#.#############.#.#.#.###.#.#.###.#.#####.#.#.###.#.#######.#.#######.#######.#.#####.#.#.#####.#.#.#.###.#.#.#
#.#...#.....#...........#...#.....#.....#.......#...#...#.#.#.#.#.#...#.#.#.#...#.....#...#.#...#...#.....#.#.....#...#...#...#.....#...#.#.#
#.#.###.###.#.###############.#.#.#.###.#########.#.#.###.#.#.#.###.#.#.#.#.#.###.###.#.###.#.#.#####.###.#.#####.###.###.#.#####.###.#.#.###
#...#...#...#.........#.....#.....#.#.#.#.......#...#.#.....#.#...#.#.#.....#...#...#...#...#.#.#.......#...#...#.......#.#.#...#.....#.#...#
#.###.#.#.#######.#.#.#.###.#####.#.#.#.#.#####.###.#.#######.###.#.#.###.#.###.#########.###.#.#.#######.#.###.#########.#.#.#.#.#####.###.#
#...#.#.#.......#.#.#...#...#...#.#.#.#...#...#.#...#...#...#.....#.#.....#...#.........#.....#.#.#.......#...#.....#...#.#...#...#.....#...#
###.#.#.#####.#.#.#.#####.###.###.#.#.#####.#.#.#######.#.#.#.#####.#######.#########.#.#.#####.#.#.#########.#.###.#.#.#.#.#####.#.#.###.#.#
#...#.#...#.......#...#.....#.#...#.#.......#.#.......#.#.#.#.......#.#.................#.#...#...#.....#.....#...#.#.#...#.#...#...#.#...#.#
#.#######.#.#.#######.#.###.#.#.###.#######.#.#######.#.#.#.###.#####.#.#####.#.###.#######.#.#####.###.#.#.#######.#.#####.#.#.#.#.###.###.#
#.........#.#.#...#...#...#.#.#.....#.......#.#.....#...#.......#.....#.#.....#...#.........#.#...#.#...#.........#.#.....#.#.#...#.#...#...#
#######.###.#.#.#.#.###.###.#.#.#.###.#######.#.#.#######.###.###.###.#.#.###.###.###########.#.#.###.###########.#.#####.###.###.#.#.###.#.#
#...#.....#...#.#.#.#.#...#.#...#.#.#.....#.......#.....#.#.#.....#.#.#.#...#...#.......#...#...#.....#...#.............#.....#.............#
#.#.#.###.###.#.#.#.#.#.#.#.#####.#.#.###.#.#######.#.#.#.#.#####.#.#.#.###.###.#.###.#.#.#.#######.###.#.###.#####.###########.#.#.#####.#.#
#.............#.#.#.....#.#.#.....#...#...#...#.....#.#.#.#.#...#...#.#...#.#.......#.#.#.#.......#.#...#...#.#...#.#.....#.....#.#.#...#.#.#
#.###.#.#.###.#.#.#.#.###.#.#.#####.###.#######.#####.###.#.#.#.#####.###.###.#.#####.#.#.#.#######.#.#####.###.#.###.###.#.#####.#.#.#.###.#
#.#...#.....#...#...#...#.#.#.#...#...#.......#...#.#...#...#.#...#.....#.....#.#...#.#.....#.......#.#.........#.....#.#.#...#...#.#.#...#.#
#.#.###.#.#.#.#.#######.#.#.#.#.#####.###.###.###.#.###.###.#.###.#.#.###.#####.#.#.#.#####.#.###.#.#.#################.#.#.#.###.#.#.###.#.#
#...#...............#...#...#.#.....#...#.#...........#...#.#...#...#.#...#...#.#.#...#.....#.......#.#.....#.....#.....#.#.#.#...#.#.#.....#
#.###.#.#.#.#.###.#.#.###.#.#.###.#.###.#.#.#.#.#######.#.#.###.#####.#.###.#.#.#.#######.###.#.#####.#.###.#.#.###.###.#.###.#.#.#.#.#####.#
#.#.......#.#...#.#.#...#...#...#.#.....#.#.#.#.#.........#...#.#...#.#...#.#.#.#...#...#.#.#...#...#.....#.#.#.....#.....#...#.....#.....#.#
#.#######.#.#.#.#.#.###.#.#.###.###.#####.#.###.#.###.#######.#.#.#.#.###.#.#.#####.#.#.#.#.###.#.#.#######.#########.#.#.#.###.###.#####.###
#.#.......#...#...#.#...#.#...#...#.#.....#.....#.#...#.....#.....#.#.#...#.#.....#...#.#.....#...#...#.....#.........#.#.#.......#.....#...#
#.#.#####.#.#.#####.#.###.###.###.#.###.#.#######.#.#.#.#.###.#####.###.###.###.#.#.###.#####.#####.###.#####.#.#######.#.#####.#.#####.###.#
#.#.....#...#...#...#.#.#...#.....#.....#.#.......#.#.........#.#...#...#...#.#...#...#.#...#.......#...#.#...#.........#.............#...#.#
#.#.###.#.###.###.###.#.###.#############.#.#######.#.#######.#.#.###.###.#.#.#.#######.#.#.###.#####.###.#.#.###.#############.#.#.#####.#.#
#.#...#.....#.#...#.#...#.#.....#.......#.#.#...#.#.#.#.....#...#.......#.......#.......#.#.........#.#.....#...#.....#...#...#...#.......#.#
#.#.#.###.#.#.#.###.###.#.#####.#.#.###.#.#.#.#.#.#.#.#.#.#.###############.#.###.#.#####.###########.#.#######.#.#.###.#.#.#.#.###.#####.#.#
#.#.....#.#.#.#.#.....#...#...#...#...#.#.#...#.#...#...#.#.....#.........#.#...#.#.........#...#.....#.#.......#...#...#...#...#...#.....#.#
#.#.###.#.#.#.#.###.#.###.#.###.#####.###.#####.###.###.#.#####.#.#######.#.###.#.###########.#.#.#####.###.#.#.#####.#######.#.#.###.###.#.#
#.#...#...#.#.#...#.#...#.#.........#.....#...#...#...#.#.......#...#.......#.#.#.....#.......#.#.....#.....#.#.........#.....#...#...#.....#
#.#.#.###.#.#####.#.#.#.#.#######.#.#######.#####.#####.#####.#.###.#.#####.#.#.#####.#.#######.#####.#################.#.###.#.#####.###.#.#
#...............#.#.#.#.#.......#.#...#.....#...#.....#.#.....#.....#...#...#.#...#.#.#...#...#.....#.........#.........#...#.#.....#...#.#.#
#####.#.#.###.###.###.#.#######.#.###.#.###.#.#.#####.#.#.###.###.#.#####.#.#.###.#.#.###.#.#######.#.#######.#.#######.###.#.#.###.#.#.#.#.#
#...#.#...#...#...#...#...#.....#...#.#...#.#.#.....#...#.#.........#.....#.#.....#.....#.#.........#.#...#...#.#...#.....#.#.#.....#.#.#.#.#
#.###.###.#.#.#.###.#######.#######.#.#.#.#.#.###.#######.#.#########.#####.#.#######.###.#.#########.###.#.###.#.#.#.###.#.#.#.#####.#.#.#.#
#...#.#...#.#.#.#...........#.......#.#...#...#...#.......#...#.......#...#.#.......#.#...#.#.......#.....#.#.....#.#...#...#.#.....#.#.#.#.#
#.#.#.#.#.#.#.#.#.###########.#######.###.#####.#.#.#.#####.#.#.#########.#.#######.###.###.#.###########.#.#######.#.#.###########.###.#.#.#
#.#...#.....#.#.#.#.........#...#...#.#...#.#...#.#.#.#.....#.#.........#.#...#...#.#...#...#...........#.#.......#...#.#.........#.....#.#.#
#.#####.#.#.###.#.#########.#.#.#.#.###.#.#.#.###.#.###.###.#.#########.#.###.#.#.#.#.###.#########.#.###.#######.#####.#.###.###########.#.#
#.......#...#...#.........#...#...#.#...#...#...#.#.....#.#.#.....#...#.#.....#.#.#...#.#.#.......#.#...#...#...#...#...#.#.#...#.......#...#
#########.###.###.#.#####.#.#######.#.###.#.###.#########.#.#####.#.#.#.#########.#.###.#.#.#####.#####.###.#.#.###.#.###.#.###.#.#####.#.###
#.......#...#...#.#...#.#.#.....#...#...#.#...#...#.......#.#...#.#.#.#.#...........#...#...#...#...#.....#.#.#.#.#.#...#.....#.......#...#.#
#.###.###.#.###.###.#.#.#.#####.#.#.###.#####.###.#.#.#####.#.#.#.###.#.#.###.#.#.###.#.#####.#####.#.#.###.#.#.#.#.#.#.#####.#####.#.#####.#
#.#.#.......#.#.....#.#...#.....#.#...#.........#...#.#...#...#.#.....#...#...#...#...#...#...#.....#.#.#...#.#...#.#.#.....#...#...#.#.....#
#.#.#########.#######.#.#######.#.###.#.#######.#####.#.#.#####.#########.#.#######.###.#.#.#.#.#####.###.###.###.#.#.#####.###.#####.#.###.#
#.#.#.........#.......#.......#.#...#...#...#.#...#.#...#...#...#.....#...#.....#...#...#.....#.....#.#...#...#.#.#.#.#...#...#.....#.....#.#
#.#.#.#####.#.#.#############.#.#.#.#####.#.#.###.#.#####.#.#.###.###.#.#.###.#.#.###.#############.#.#.#####.#.#.#.#.#.###.#.#####.#######.#
#...............#.....#.......#.#.#.#.....#.#.....#.#.....#.#.#...#.#.#.....#.#.#.#.#...............#...#.....#...#.#.#.#.......#.#.........#
#.#.#.#.#######.###.#.#.#.#.#.#.#.#.#.#####.###.#.#.#.#####.#.#.###.#.#####.###.#.#.#####.###########.#####.###.###.#.#.#.#####.#.#########.#
#.#.............#...#.....#.#.#...#.....#.#...#.....#...#...#.#...#.#.......#...#.#...#.....................#.#.#.#.#...#.#.#...#...#...#...#
#.#.#.#######.#.#.#.###.#.###.#########.#.###.#####.###.#####.###.#.###.#####.#.#.#.###.###########.#########.#.#.#.#.#.#.#.#.###.#.#.###.###
#.#...#.......#.#.#.....#.....#.........#...#...#...#...#...............#.....#.#.#.....#...#.....#.#.....#.......#.#...#.#...#...#...#...#.#
#.###.#.#######.#.#####.#.#.###.###########.###.#####.###.###.###.#.###.#####.#.#.#.#.###.###.###.###.###.#.#######.#.###.#.###.#.#####.###.#
#...#...#.......#.#...#.#.......#.........#...#.....#...#...#.#...#...#.#...#.#.#...#.#.....#.#.....#.#.#.#...#.....#.#...#...#.#.....#.....#
###.#.###.#######.###.#.#.#######.#.#####.###.#####.###.###.#.#.###.#.#.#.#.#.#.###.#.#####.#.#####.#.#.#.#####.###.###.#####.#.#.###.#####.#
#.............#...#...#...#.......#.#...#.....#.....#...#...#.#...#.#.#...#...#.#...#.....#.#...#.....#.........#.#.....#.....#.#...#.......#
#.#.#.#.#####.#.#.#.#.###.#.#########.#.#.###.#.#####.###.###.###.#.#.#.#########.#######.#.###.#.#####.#########.#.#.#######.#.#.#.#########
#.......#.....#.....#.#...#.#.........#.#...#.#...#...#...#.#...#.#.#.#.#...#.........#...#.....#.#...#.#.......#...#.......#.....#.#.......#
#.#.#.#.#.###.#######.#.###.#.#########.#.#.#####.#.###.###.#.#.#.###.#.#.#.#.#######.#.###.#.#####.#.###.###.#.#.#########.#####.#.#.#####.#
#.........#.....#.....#.#.......#.....#...#.......#.#...#.......#...#.#...#...#.....#...#...#.......#.....#.....#.#.......#.........#.....#.#
#.###.#.#.#######.#####.#######.#####.#####.#####.#.#.###.#########.#.#.#.#######.#.###.#.#########.#.#####.#####.#.#.###.#######.###.###.#.#
#...#...#...#.....#.....#...#.............#.#...#...#.#...#.#.......#.#.#.#.....#.#...#...#.........#.....#.....#...#.#...#...............#.#
#.#.#.#.#.#.#.#####.#####.#.###.#########.#.#.#.#####.#.###.#.#######.#.#.###.#.#.###.#####.#######.#####.#####.#####.#.###.#.###.#.#.#.###.#
#.#.#.....#.......#.......#...#...#.....#.#.#.#.....#.#.....#...#.....#.#.....#...#.#.......#...#...#.#...#.#...#.....#...#.#.#...#...#.#...#
#.###.###.###################.#.#.#####.#.#.#.#####.#.#########.#.###.#############.#########.###.###.#.###.#.###.###.###.#.#.#.#.#####.#####
#.....#.........#...........#.#.#.......#...#.....#...#...#.....#.#...#.......................#...#.....#...#.#.#.#.#...#.#.#.#...#.....#...#
#.#####.#.#####.#.#########.#.#.###########.#####.#.###.#.#.#######.###.#.#.#############.#####.###.#####.#.#.#.#.#.#.###.###.###.#.#####.#.#
#.....#.......#...#.....#.....#.#.................#.....#...#.......#...#.#.#.......#...#.#.....#.#.#.....#.#.#.#...#...#.#...#...#...#...#.#
#####.###.###.#####.#.#.#.###.#.#.###############.#.#.#######.#####.#.###.###.###.#.#.#.###.#####.#.###.###.#.#.###.###.#.#.###.###.#.#.###.#
#...#.#.......#.......#.#.....#.#.#...#.....#.....#.#...#.#...#...#.#...#...#.#...#.........#.....#...#.#...#.#.#.....#.#.#...#...#.#.....#.#
#.#.###.#.#####.#####.#.#.#.###.#.#.#.#.###.#.#.###.###.#.#.#.#.#.#####.###.#.#.#.#############.#####.###.#.#.#.#.#####.#.###.###.#####.###.#
#.#.....#.......#...#.#.....#...#.#.#.......#.....#.#...#...#...#.#.......#.....#...#.........#.#...#.....#.#.#...#.....#.....#...#...#.#...#
#.#######.#.###.#.#.#########.#.#.#.###.###.#####.###.###.#######.#.###############.#######.#.#.#.#.#####.###.#.###.###.#######.###.#.###.#.#
#.#...........#.#.#.....#.....#...#...#.....#...#...#...#.#.....#.#.#...........#.#.........#.#.#.#.#.....#...#.#...#.#.#.....#...#.#...#.#.#
#.#.#####.#.#.#.#.#####.#.###########.#.###.#.#.###.###.#.#.#####.#.#.#########.#.###########.#.#.#.#.#####.#####.###.#.#.###.###.#.###.#.#.#
#...#.......#.#.#.#...#.#.....#...#...#...#.#.#...#...#.#...#...#...#.#.......#.#.#.....#.....#...#...#...#.#.....#.....#.#...#...#...#...#.#
#.#######.#.#.###.#.#.#.#####.#.#.#####.#.#.#.#####.#.#.#####.#.#.#.#.#.###.#.#.#.#.#.###.#############.#.#.#.#.###.#####.#.###.###.#.###.#.#
#.........#.#.#...#.#.#...#.#...#.....#.#.#...#.....#.#.......#.#.#...#...#.#.#.#...#...#.#.........#...#...#.....#...#.......#.............#
#####.###.#.#.#.###.#.###.#.#########.###.#.###.#####.#########.###.#####.#.###.#.#.###.#.#####.###.#.###########.###.###.###.###.###.#.#.###
#...#.#.....#.#.#...#...#.#.........#.....#.#...#.............#...#.#.....#...#.#.....#.#.......#.#...#.......#...#.#.........#.#.#...#.#...#
#.#.#.#.#.#.#.#.#.###.###.#.#.#####.#####.###.#####.#########.###.#.#.#######.#.#######.#########.#########.#.#.###.#######.###.#.#.###.#.###
#.#...#...#...#.#.#...#.....#.#...#.....#.#...#.........#...#...#...#.#.....#.#.#...........#...............#...#.........#...#.#...#...#...#
#.#######.#.###.#.#.###.###.###.#.#######.#.###.#######.#.#.#.#########.###.#.#.#.#####.#.#.#.#.#############.###.###.#######.#.#####.###.#.#
#.#...#...#.....#.#...#...#.....#.........#.#...#.....#...#.#.#.......#.#.....#.#...#...#.#...#.....#.........#...#...#.....#.....#.#.#...#.#
#.#.#.#.###.#####.###.###.#.#############.#.#.###.#########.###.###.#.#.#######.###.#####.#########.#.#######.###.#.#.#.#.#######.#.#.###.#.#
#...#.#.#...#.....#.....#.#...#...#.....#.#...#...........#.....#.#.#.....#...#...#.#.....#.#.....#.........#...#.#.#.#.#.#.....#...#.#.....#
#######.#.#.#.#####.#####.###.###.#.###.#########.#####.#.#######.#.#.###.#.#.###.#.#.#####.#.#.#####.#.###.###.#.#.###.#.#.###.###.#.#.#.###
#.....#.#.#...#...#...#...#...#...#...#.........#.#.....#.#.......#.#.....#.#.....#...#...#...#.....#...#...#...#.#.....#.#.#.......#.#.....#
#.###.#.#.#.#####.###.#.###.###.#.###.###.#####.###.#####.#.#####.#.#####.#.#######.#####.#.#####.#.#####.#.#.###.#######.#.#.#######.###.#.#
#...#...#.#.#.......#.#...#.#...#...#...#...#.#...#...#...#.#...#.#.....#.#.#.....#.#.....#.....#.#...#...#.#...#.......#...#...#...#.......#
#.#.#.###.#.#.###.###.###.#.###.#.#####.###.#.###.#.#.###.#.###.#.#####.###.#.###.#.#.#.###.#####.###.#.###.#.#.#######.#######.#.#.#######.#
#.#.#.#...#...#...#.....#.#.....#.#.....#.#.#.....#.#.....#...#.#.....#.....#...#.#.#.......#.....#.#...#.#.#.#.#.....................#...#.#
###.#.#.###.###.###.#####.#####.###.#####.#.###.###.#####.###.#.#.###.#######.#.#.#.#.#.###.#.#####.###.#.#.#.#.#.#.###.#.#######.#.#.#.###.#
#...#.#.....#.....#.....#.....#.#...#.....#...#.#...#.......................#.#.#.#.#.#.#...#...#.#.......#.#.#.#.#...#...#...#...#.#...#...#
#.#########.#.#####.###.#####.#.#.#####.#.###.#.#####.###.#.###.#.#.#.###.###.#.###.#.#.#.#.###.#.#.###.###.#.#.#.###.#.###.#.#.###.#####.###
#...........#.#...#...#.....#.#...#.....#.#...#.......#...#.#...#...................#...#.#.....#...#.#...#...#.#...#.......#.#.#...#...#...#
#.#######.#####.#.#####.#####.#.###.#####.#.#.#########.#.#.###.#.#.#.#.#.#.###########.#.#.#####.###.#.#.###.#.###.###.#####.#.#.###.#.###.#
#.......#.......#.....#.#...#.............................#.....#.#.#.#...#.#.............#.#.....#.....#.#...#...#.#...#.....#.#...#.#.....#
#######.#.#.#########.#.#.#.#######.#.###.#.#######.#####.#######.#.#.#####.###.#######.###.#.#####.###.#.#.###.#.#.###.#.#####.###.#.#######
#.....#.....#.....#...#...#.......#.#...#.#.......#.#.............#.#.#...#...#.....#...#...#.....#.....................#.................#.#
#####.###.###.###.#.###.###.#####.#.#.#.#.#######.###.###.#.#######.#.#.#.###.#####.###.#.#.#####.#.#.#.#.#.#.#.#######.###.#.#####.#####.#.#
#.....#...#...#.#.#.#.....#...#.#.#.#.#...#...#.............#.................#...#...#.#.#.......#.#.#...#...#.......#...#...#.......#...#.#
#.#####.#.#.###.#.#.#########.#.#.#.#.#####.#.#.#######.#####.###########.#.###.#.###.#.#.#.#######.#.#.#####.#######.#.#.#####.#######.###.#
#S......#.......#.............#.....#...................................#.......#.....#.............#...............#.........#.............#
#############################################################################################################################################`,I=v.array(v.string().transform(n=>n.split(""))),y=I.parse(u.split(`
`));let m=class{constructor(){r(this,"start");r(this,"end");r(this,"matrix");r(this,"scoredMatrix");r(this,"finalScore");r(this,"searching");r(this,"bestPositions");r(this,"positionsToCheck");this.matrix=JSON.parse(JSON.stringify(y)),this.scoredMatrix=y.map(i=>i.map(()=>({up:{score:1/0,positions:[]},down:{score:1/0,positions:[]},left:{score:1/0,positions:[]},right:{score:1/0,positions:[]}}))),this.start={y:-1,x:-1},this.end={y:-1,x:-1},this.matrix.forEach((i,s)=>{i.forEach((t,o)=>{t==="S"&&(this.start={y:s,x:o}),t==="E"&&(this.end={y:s,x:o})})}),this.finalScore=null,this.searching=!0,this.bestPositions=new Set,this.positionsToCheck=[{y:this.start.y-1,x:this.start.x,prevScore:1001,direction:"up",prevPositions:new Set},{y:this.start.y+1,x:this.start.x,prevScore:1001,direction:"down",prevPositions:new Set},{y:this.start.y,x:this.start.x+1,prevScore:1,direction:"right",prevPositions:new Set}]}at({y:i,x:s}){var o;const t=(o=this.matrix[i])==null?void 0:o[s];if(t===void 0)throw new Error(`Bad position: ${i},${s}`);return t}addPositionToCheck(i){if(this.at(i)==="#")return;const{y:s,x:t,direction:o,prevScore:c}=i,a=this.scoredMatrix[s][t][o].score;c<a&&(this.scoredMatrix[s][t][o].score=c,this.scoredMatrix[s][t][o].positions=[],this.scoredMatrix[s][t][o].positions.push({y:s,x:t}),this.positionsToCheck.push(i))}step(){const i=this.positionsToCheck.shift();if(!i)throw new Error("No positions left to check");const s=this.at(i);if(s==="#")return;if(s==="E"){this.finalScore=i.prevScore,i.prevPositions.forEach(o=>{this.bestPositions.add(o)}),this.searching=!1;return}const t=`${i.y},${i.x}`;i.direction==="up"&&(this.addPositionToCheck({y:i.y-1,x:i.x,prevScore:i.prevScore+1,direction:"up",prevPositions:new Set([...i.prevPositions]).add(t)}),this.addPositionToCheck({y:i.y,x:i.x-1,prevScore:i.prevScore+1001,direction:"left",prevPositions:new Set([...i.prevPositions]).add(t)}),this.addPositionToCheck({y:i.y,x:i.x+1,prevScore:i.prevScore+1001,direction:"right",prevPositions:new Set([...i.prevPositions]).add(t)})),i.direction==="down"&&(this.addPositionToCheck({y:i.y+1,x:i.x,prevScore:i.prevScore+1,direction:"down",prevPositions:new Set([...i.prevPositions]).add(t)}),this.addPositionToCheck({y:i.y,x:i.x-1,prevScore:i.prevScore+1001,direction:"left",prevPositions:new Set([...i.prevPositions]).add(t)}),this.addPositionToCheck({y:i.y,x:i.x+1,prevScore:i.prevScore+1001,direction:"right",prevPositions:new Set([...i.prevPositions]).add(t)})),i.direction==="left"&&(this.addPositionToCheck({y:i.y,x:i.x-1,prevScore:i.prevScore+1,direction:"left",prevPositions:new Set([...i.prevPositions]).add(t)}),this.addPositionToCheck({y:i.y-1,x:i.x,prevScore:i.prevScore+1001,direction:"up",prevPositions:new Set([...i.prevPositions]).add(t)}),this.addPositionToCheck({y:i.y+1,x:i.x,prevScore:i.prevScore+1001,direction:"down",prevPositions:new Set([...i.prevPositions]).add(t)})),i.direction==="right"&&(this.addPositionToCheck({y:i.y,x:i.x+1,prevScore:i.prevScore+1,direction:"right",prevPositions:new Set([...i.prevPositions]).add(t)}),this.addPositionToCheck({y:i.y-1,x:i.x,prevScore:i.prevScore+1001,direction:"up",prevPositions:new Set([...i.prevPositions]).add(t)}),this.addPositionToCheck({y:i.y+1,x:i.x,prevScore:i.prevScore+1001,direction:"down",prevPositions:new Set([...i.prevPositions]).add(t)})),this.positionsToCheck.sort((o,c)=>o.prevScore-c.prevScore)}get score(){return this.bestPositions.size===0?0:this.bestPositions.size+2}};function M(){const[n,i]=h.useState("unstarted"),[s,t]=h.useState(0),o=h.useRef(null);o.current||(o.current=new m);const c=h.useCallback(async()=>{for(i("in-progress"),t(0),o.current=new m;o.current.searching;)t(a=>a+1),o.current.step();i("complete")},[i,t]);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mt-4 flex gap-x-4",children:[e.jsx("div",{children:e.jsx(j,{input:u})}),e.jsx("div",{children:e.jsx(k,{size:"lg",onClick:c,disabled:n==="in-progress",children:"Process Input"})})]}),e.jsxs("div",{className:"mt-4 tabular-nums",children:[e.jsxs("div",{children:["Steps: ",s]}),e.jsxs("div",{children:["Score: ",o.current.score]}),e.jsx("pre",{className:"mt-0",children:e.jsx("code",{className:O("flex w-full flex-col leading-none","[&>div>div]:h-[5.5px] [&>div>div]:w-[5.5px] [&>div>div]:flex-shrink-0",'[&_[data-value="#"]]:bg-slate-600','[&_[data-value="S"]]:bg-emerald-400','[&_[data-value="E"]]:bg-rose-400','[&_[data-value="!"]]:bg-sky-400'),children:o.current.matrix.map((a,l)=>e.jsx("div",{className:"flex",children:a.map((f,d)=>o.current.bestPositions.has(`${l},${d}`)?e.jsx("div",{"data-value":"!"},d):e.jsx("div",{"data-value":f},d))},l))})})]})]})}const N=v.array(v.string().transform(n=>n.split(""))),w=N.parse(u.split(`
`));class g{constructor(){r(this,"start");r(this,"end");r(this,"matrix");r(this,"scoredMatrix");r(this,"finalScore");r(this,"searching");r(this,"bestPositions");r(this,"positionsToCheck");this.matrix=JSON.parse(JSON.stringify(w)),this.scoredMatrix=w.map(i=>i.map(()=>({up:{score:1/0,positions:[]},down:{score:1/0,positions:[]},left:{score:1/0,positions:[]},right:{score:1/0,positions:[]}}))),this.start={y:-1,x:-1},this.end={y:-1,x:-1},this.matrix.forEach((i,s)=>{i.forEach((t,o)=>{t==="S"&&(this.start={y:s,x:o}),t==="E"&&(this.end={y:s,x:o})})}),this.finalScore=null,this.searching=!0,this.bestPositions=new Set,this.positionsToCheck=[{y:this.start.y-1,x:this.start.x,prevScore:1001,direction:"up",prevPositions:new Set},{y:this.start.y+1,x:this.start.x,prevScore:1001,direction:"down",prevPositions:new Set},{y:this.start.y,x:this.start.x+1,prevScore:1,direction:"right",prevPositions:new Set}]}at({y:i,x:s}){var o;const t=(o=this.matrix[i])==null?void 0:o[s];if(t===void 0)throw new Error(`Bad position: ${i},${s}`);return t}addPositionToCheck(i){if(this.at(i)==="#")return;const{y:s,x:t,direction:o,prevScore:c}=i,a=this.scoredMatrix[s][t][o].score;c<a?(this.scoredMatrix[s][t][o].score=c,this.scoredMatrix[s][t][o].positions=[],this.scoredMatrix[s][t][o].positions.push({y:s,x:t}),this.positionsToCheck.push(i)):c===a&&(this.scoredMatrix[s][t][o].positions.push({y:s,x:t}),this.positionsToCheck.push(i))}step(){const i=this.positionsToCheck.shift();if(!i)throw new Error("No positions left to check");const s=this.at(i);if(s==="#")return;if(this.finalScore&&i.prevScore>this.finalScore){this.searching=!1;return}if(s==="E"){this.finalScore=i.prevScore,i.prevPositions.forEach(o=>{this.bestPositions.add(o)});return}const t=`${i.y},${i.x}`;i.direction==="up"&&(this.addPositionToCheck({y:i.y-1,x:i.x,prevScore:i.prevScore+1,direction:"up",prevPositions:new Set([...i.prevPositions]).add(t)}),this.addPositionToCheck({y:i.y,x:i.x-1,prevScore:i.prevScore+1001,direction:"left",prevPositions:new Set([...i.prevPositions]).add(t)}),this.addPositionToCheck({y:i.y,x:i.x+1,prevScore:i.prevScore+1001,direction:"right",prevPositions:new Set([...i.prevPositions]).add(t)})),i.direction==="down"&&(this.addPositionToCheck({y:i.y+1,x:i.x,prevScore:i.prevScore+1,direction:"down",prevPositions:new Set([...i.prevPositions]).add(t)}),this.addPositionToCheck({y:i.y,x:i.x-1,prevScore:i.prevScore+1001,direction:"left",prevPositions:new Set([...i.prevPositions]).add(t)}),this.addPositionToCheck({y:i.y,x:i.x+1,prevScore:i.prevScore+1001,direction:"right",prevPositions:new Set([...i.prevPositions]).add(t)})),i.direction==="left"&&(this.addPositionToCheck({y:i.y,x:i.x-1,prevScore:i.prevScore+1,direction:"left",prevPositions:new Set([...i.prevPositions]).add(t)}),this.addPositionToCheck({y:i.y-1,x:i.x,prevScore:i.prevScore+1001,direction:"up",prevPositions:new Set([...i.prevPositions]).add(t)}),this.addPositionToCheck({y:i.y+1,x:i.x,prevScore:i.prevScore+1001,direction:"down",prevPositions:new Set([...i.prevPositions]).add(t)})),i.direction==="right"&&(this.addPositionToCheck({y:i.y,x:i.x+1,prevScore:i.prevScore+1,direction:"right",prevPositions:new Set([...i.prevPositions]).add(t)}),this.addPositionToCheck({y:i.y-1,x:i.x,prevScore:i.prevScore+1001,direction:"up",prevPositions:new Set([...i.prevPositions]).add(t)}),this.addPositionToCheck({y:i.y+1,x:i.x,prevScore:i.prevScore+1001,direction:"down",prevPositions:new Set([...i.prevPositions]).add(t)})),this.positionsToCheck.sort((o,c)=>o.prevScore-c.prevScore)}get score(){return this.bestPositions.size===0?0:this.bestPositions.size+2}}function z(){const[n,i]=h.useState("unstarted"),[s,t]=h.useState(0),o=h.useRef(null);o.current||(o.current=new g);const c=h.useCallback(async()=>{for(i("in-progress"),t(0),o.current=new g;o.current.searching;)t(a=>a+1),o.current.step();i("complete")},[i,t]);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mt-4 flex gap-x-4",children:[e.jsx("div",{children:e.jsx(j,{input:u})}),e.jsx("div",{children:e.jsx(k,{size:"lg",onClick:c,disabled:n==="in-progress",children:"Process Input"})})]}),e.jsxs("div",{className:"mt-4 tabular-nums",children:[e.jsxs("div",{children:["Steps: ",s]}),e.jsxs("div",{children:["Score: ",o.current.score]}),e.jsx("pre",{className:"mt-0",children:e.jsx("code",{className:O("flex w-full flex-col leading-none","[&>div>div]:h-[5.5px] [&>div>div]:w-[5.5px] [&>div>div]:flex-shrink-0",'[&_[data-value="#"]]:bg-slate-600','[&_[data-value="S"]]:bg-emerald-400','[&_[data-value="E"]]:bg-rose-400','[&_[data-value="!"]]:bg-sky-400'),children:o.current.matrix.map((a,l)=>e.jsx("div",{className:"flex",children:a.map((f,d)=>o.current.bestPositions.has(`${l},${d}`)?e.jsx("div",{"data-value":"!"},d):e.jsx("div",{"data-value":f},d))},l))})})]})]})}const F=function(){return e.jsxs(e.Fragment,{children:[e.jsx(C,{}),e.jsx(x,{hash:"part-1-prompt",children:"Part 1 – Prompt"}),e.jsxs("p",{children:["It's time again for the"," ",e.jsx("a",{href:"https://adventofcode.com/2015/day/14",target:"_blank",children:"Reindeer Olympics"}),"! This year, the big event is the ",e.jsx("em",{children:"Reindeer Maze"}),", where the Reindeer compete for the"," ",e.jsx("em",{children:e.jsx("span",{title:"I would say it's like Reindeer Golf, but knowing Reindeer, it's almost certainly nothing like Reindeer Golf.",children:"lowest score"})}),"."]}),e.jsx("p",{children:"You and The Historians arrive to search for the Chief right as the event is about to start. It wouldn't hurt to watch a little, right?"}),e.jsxs("p",{children:["The Reindeer start on the Start Tile (marked ",e.jsx("code",{children:"S"}),") facing ",e.jsx("em",{children:"East"})," ","and need to reach the End Tile (marked ",e.jsx("code",{children:"E"}),"). They can move forward one tile at a time (increasing their score by ",e.jsx("code",{children:"1"})," point), but never into a wall (",e.jsx("code",{children:"#"}),"). They can also rotate clockwise or counterclockwise 90 degrees at a time (increasing their score by ",e.jsx("code",{children:"1000"})," points)."]}),e.jsx("p",{children:"To figure out the best place to sit, you start by grabbing a map (your puzzle input) from a nearby kiosk. For example:"}),e.jsx(p,{content:`###############
#.......#....E#
#.#.###.#.###.#
#.....#.#...#.#
#.###.#####.#.#
#.#.#.......#.#
#.#.#####.###.#
#...........#.#
###.#.#####.#.#
#...#.....#.#.#
#.#.#.###.#.#.#
#.....#...#.#.#
#.###.#.#.#.#.#
#S..#.....#...#
###############`}),e.jsxs("p",{children:["There are many paths through this maze, but taking any of the best paths would incur a score of only"," ",e.jsx("code",{children:e.jsx("em",{children:"7036"})}),". This can be achieved by taking a total of ",e.jsx("code",{children:"36"})," steps forward and turning 90 degrees a total of ",e.jsx("code",{children:"7"})," times:"]}),e.jsx(p,{content:`###############
#.......#....E#
#.#.###.#.###^#
#.....#.#...#^#
#.###.#####.#^#
#.#.#.......#^#
#.#.#####.###^#
#..>>>>>>>>v#^#
###^#.#####v#^#
#>>^#.....#v#^#
#^#.#.###.#v#^#
#^....#...#v#^#
#^###.#.#.#v#^#
#S..#.....#>>^#
###############`}),e.jsx("p",{children:"Here's a second example:"}),e.jsx(p,{content:`#################
#...#...#...#..E#
#.#.#.#.#.#.#.#.#
#.#.#.#...#...#.#
#.#.#.#.###.#.#.#
#...#.#.#.....#.#
#.#.#.#.#.#####.#
#.#...#.#.#.....#
#.#.#####.#.###.#
#.#.#.......#...#
#.#.###.#####.###
#.#.#...#.....#.#
#.#.#.#####.###.#
#.#.#.........#.#
#.#.#.#########.#
#S#.............#
#################`}),e.jsxs("p",{children:["In this maze, the best paths cost"," ",e.jsx("code",{children:e.jsx("em",{children:"11048"})})," ","points; following one such path would look like this:"]}),e.jsx(p,{content:`#################
#...#...#...#..E#
#.#.#.#.#.#.#.#^#
#.#.#.#...#...#^#
#.#.#.#.###.#.#^#
#>>v#.#.#.....#^#
#^#v#.#.#.#####^#
#^#v..#.#.#>>>>^#
#^#v#####.#^###.#
#^#v#..>>>>^#...#
#^#v###^#####.###
#^#v#>>^#.....#.#
#^#v#^#####.###.#
#^#v#^........#.#
#^#v#^#########.#
#S#>>^..........#
#################`}),e.jsx("p",{children:"Note that the path shown above includes one 90 degree turn as the very first move, rotating the Reindeer from facing East to facing North."}),e.jsxs("p",{children:["Analyze your map carefully."," ",e.jsx("em",{children:"What is the lowest score a Reindeer could possibly get?"})]}),e.jsx(x,{hash:"part-1-solution",children:"Part 1 – Solution"}),e.jsx(M,{}),e.jsx("p",{children:"The code is fairly messy, but does complete in a reaonably-quick time (~1s)."}),e.jsx("p",{children:"Previous positions are kept track of as we iterate through the maze. This consumes quite a bit of memory, but makes retrieval of the path trivial."}),e.jsx(S,{content:`interface Position {
    y: number;
    x: number;
}

type Direction = "up" | "down" | "left" | "right";

type StrPosition = \`\${string},\${string}\`;

interface NextPosition extends Position {
    prevScore: number;
    direction: Direction;
    prevPositions: Set<StrPosition>;
}

interface ScoredPositions {
    score: number;
    positions: Array<Position>;
}

class Map {
    start: Position;
    end: Position;

    matrix: Array<Array<string>>;
    scoredMatrix: Array<Array<Record<Direction, ScoredPositions>>>;

    finalScore: number | null;
    searching: boolean;
    bestPositions: Set<StrPosition>;

    positionsToCheck: Array<NextPosition>;

    constructor() {
        this.matrix = JSON.parse(JSON.stringify(values));
        this.scoredMatrix = values.map((row) => {
            return row.map(() => {
                return {
                    up: { score: Infinity, positions: [] },
                    down: { score: Infinity, positions: [] },
                    left: { score: Infinity, positions: [] },
                    right: { score: Infinity, positions: [] },
                };
            });
        });

        this.start = { y: -1, x: -1 };
        this.end = { y: -1, x: -1 };

        this.matrix.forEach((row, y) => {
            row.forEach((character, x) => {
                if (character === "S") {
                    this.start = { y, x };
                }

                if (character === "S") {
                    this.end = { y, x };
                }
            });
        });

        this.finalScore = null;
        this.searching = true;
        this.bestPositions = new Set();

        // Start with the start position
        this.positionsToCheck = [
            {
                // Up
                y: this.start.y - 1,
                x: this.start.x,
                prevScore: 1001,
                direction: "up",
                prevPositions: new Set(),
            },
            {
                // Down
                y: this.start.y + 1,
                x: this.start.x,
                prevScore: 1001,
                direction: "down",
                prevPositions: new Set(),
            },
            {
                // Right
                y: this.start.y,
                x: this.start.x + 1,
                prevScore: 1,
                direction: "right",
                prevPositions: new Set(),
            },
        ];
    }

    at({ y, x }: Position) {
        const tile = this.matrix[y]?.[x];

        if (tile === undefined) {
            throw new Error(\`Bad position: \${y},\${x}\`);
        }

        return tile;
    }

    addPositionToCheck(position: NextPosition) {
        // Skip walls
        if (this.at(position) === "#") return;

        const { y, x, direction, prevScore } = position;

        // Add score
        const score = this.scoredMatrix[y]![x]![direction].score;

        if (prevScore < score) {
            // Prune paths
            this.scoredMatrix[y]![x]![direction].score = prevScore;
            this.scoredMatrix[y]![x]![direction].positions = [];
            this.scoredMatrix[y]![x]![direction].positions.push({ y, x });

            this.positionsToCheck.push(position);
        }
    }

    step() {
        // Get a position to check
        const position = this.positionsToCheck.shift();

        if (!position) {
            throw new Error("No positions left to check");
        }

        const tile = this.at(position);

        // Hit a wall, early exit
        if (tile === "#") return;

        if (tile === "E") {
            // Hit the end
            this.finalScore = position.prevScore;

            position.prevPositions.forEach((prevPosition) => {
                this.bestPositions.add(prevPosition);
            });

            this.searching = false;

            return;
        }

        // this.exploreMatrix[position.y]![position.x] = directionCode[position.direction];
        const strPosition: StrPosition = \`\${position.y},\${position.x}\`;

        // We've got a valid tile to move to
        // Push into our positions to check
        if (position.direction === "up") {
            // Go in the same direction
            this.addPositionToCheck({
                y: position.y - 1,
                x: position.x,
                prevScore: position.prevScore + 1,
                direction: "up",
                prevPositions: new Set([...position.prevPositions]).add(strPosition),
            });

            // 90 degree turns
            this.addPositionToCheck({
                y: position.y,
                x: position.x - 1,
                prevScore: position.prevScore + 1001,
                direction: "left",
                prevPositions: new Set([...position.prevPositions]).add(strPosition),
            });
            this.addPositionToCheck({
                y: position.y,
                x: position.x + 1,
                prevScore: position.prevScore + 1001,
                direction: "right",
                prevPositions: new Set([...position.prevPositions]).add(strPosition),
            });
        }

        if (position.direction === "down") {
            // Go in the same direction
            this.addPositionToCheck({
                y: position.y + 1,
                x: position.x,
                prevScore: position.prevScore + 1,
                direction: "down",
                prevPositions: new Set([...position.prevPositions]).add(strPosition),
            });

            // 90 degree turns
            this.addPositionToCheck({
                y: position.y,
                x: position.x - 1,
                prevScore: position.prevScore + 1001,
                direction: "left",
                prevPositions: new Set([...position.prevPositions]).add(strPosition),
            });
            this.addPositionToCheck({
                y: position.y,
                x: position.x + 1,
                prevScore: position.prevScore + 1001,
                direction: "right",
                prevPositions: new Set([...position.prevPositions]).add(strPosition),
            });
        }

        if (position.direction === "left") {
            // Go in the same direction
            this.addPositionToCheck({
                y: position.y,
                x: position.x - 1,
                prevScore: position.prevScore + 1,
                direction: "left",
                prevPositions: new Set([...position.prevPositions]).add(strPosition),
            });

            // 90 degree turns
            this.addPositionToCheck({
                y: position.y - 1,
                x: position.x,
                prevScore: position.prevScore + 1001,
                direction: "up",
                prevPositions: new Set([...position.prevPositions]).add(strPosition),
            });
            this.addPositionToCheck({
                y: position.y + 1,
                x: position.x,
                prevScore: position.prevScore + 1001,
                direction: "down",
                prevPositions: new Set([...position.prevPositions]).add(strPosition),
            });
        }

        if (position.direction === "right") {
            // Go in the same direction
            this.addPositionToCheck({
                y: position.y,
                x: position.x + 1,
                prevScore: position.prevScore + 1,
                direction: "right",
                prevPositions: new Set([...position.prevPositions]).add(strPosition),
            });

            // 90 degree turns
            this.addPositionToCheck({
                y: position.y - 1,
                x: position.x,
                prevScore: position.prevScore + 1001,
                direction: "up",
                prevPositions: new Set([...position.prevPositions]).add(strPosition),
            });
            this.addPositionToCheck({
                y: position.y + 1,
                x: position.x,
                prevScore: position.prevScore + 1001,
                direction: "down",
                prevPositions: new Set([...position.prevPositions]).add(strPosition),
            });
        }

        // Resort the positions by lowest score
        this.positionsToCheck.sort((a, b) => a.prevScore - b.prevScore);
    }

    get score() {
        if (this.bestPositions.size === 0) return 0;

        // +2 to include start and end
        return this.bestPositions.size + 2;
    }
}
`}),e.jsx(P,{}),e.jsx(x,{hash:"part-2-prompt",children:"Part 2 – Prompt"}),e.jsx("p",{children:"Now that you know what the best paths look like, you can figure out the best spot to sit."}),e.jsxs("p",{children:["Every non-wall tile (",e.jsx("code",{children:"S"}),", ",e.jsx("code",{children:"."}),", or ",e.jsx("code",{children:"E"}),") is equipped with places to sit along the edges of the tile. While determining which of these tiles would be the best spot to sit depends on a whole bunch of factors (how comfortable the seats are, how far away the bathrooms are, whether there's a pillar blocking your view, etc.), the most important factor is"," ",e.jsx("em",{children:"whether the tile is on one of the best paths through the maze"}),". If you sit somewhere else, you'd miss all the action!"]}),e.jsxs("p",{children:["So, you'll need to determine which tiles are part of ",e.jsx("em",{children:"any"})," best path through the maze, including the ",e.jsx("code",{children:"S"})," and ",e.jsx("code",{children:"E"})," tiles."]}),e.jsxs("p",{children:["In the first example, there are"," ",e.jsx("code",{children:e.jsx("em",{children:"45"})})," ","tiles (marked ",e.jsx("code",{children:"O"}),") that are part of at least one of the various best paths through the maze:"]}),e.jsx(p,{content:`###############
#.......#....O#
#.#.###.#.###O#
#.....#.#...#O#
#.###.#####.#O#
#.#.#.......#O#
#.#.#####.###O#
#..OOOOOOOOO#O#
###O#O#####O#O#
#OOO#O....#O#O#
#O#O#O###.#O#O#
#OOOOO#...#O#O#
#O###.#.#.#O#O#
#O..#.....#OOO#
###############`}),e.jsxs("p",{children:["In the second example, there are"," ",e.jsx("code",{children:e.jsx("em",{children:"64"})})," ","tiles that are part of at least one of the best paths:"]}),e.jsx(p,{content:`#################
#...#...#...#..O#
#.#.#.#.#.#.#.#O#
#.#.#.#...#...#O#
#.#.#.#.###.#.#O#
#OOO#.#.#.....#O#
#O#O#.#.#.#####O#
#O#O..#.#.#OOOOO#
#O#O#####.#O###O#
#O#O#..OOOOO#OOO#
#O#O###O#####O###
#O#O#OOO#..OOO#.#
#O#O#O#####O###.#
#O#O#OOOOOOO..#.#
#O#O#O#########.#
#O#OOO..........#
#################`}),e.jsxs("p",{children:["Analyze your map further."," ",e.jsx("em",{children:"How many tiles are part of at least one of the best paths through the maze?"})]}),e.jsx(x,{hash:"part-2-solution",children:"Part 2 – Solution"}),e.jsx(z,{}),e.jsx("p",{children:"The code is nearly identical to Part 1, with some small (but important) changes:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"We don't prune paths that have the same score as our best-scoring path on that tile"}),e.jsx("li",{children:"Once we complete the maze, continue building up paths until we no longer have positions to check in our queue that have a score lower than our best final score"})]}),e.jsx(S,{content:`class Map {
    ...
    
    addPositionToCheck(position: NextPosition) {
        // Skip walls
        if (this.at(position) === "#") return;

        const { y, x, direction, prevScore } = position;

        // Add score
        const score = this.scoredMatrix[y]![x]![direction].score;

        if (prevScore < score) {
            // Prune paths
            this.scoredMatrix[y]![x]![direction].score = prevScore;
            this.scoredMatrix[y]![x]![direction].positions = [];
            this.scoredMatrix[y]![x]![direction].positions.push({ y, x });

            this.positionsToCheck.push(position);
        } else if (prevScore === score) {
            // Don't prune paths that have the same score
            this.scoredMatrix[y]![x]![direction].positions.push({ y, x });

            this.positionsToCheck.push(position);
        }
    }

    step() {
        // Get a position to check
        const position = this.positionsToCheck.shift();

        if (!position) {
            throw new Error("No positions left to check");
        }

        const tile = this.at(position);

        // Hit a wall, early exit
        if (tile === "#") return;

        if (this.finalScore && position.prevScore > this.finalScore) {
            // Out of relevant positions to check
            this.searching = false;
            return;
        }

        if (tile === "E") {
            // Hit the end
            this.finalScore = position.prevScore;

            position.prevPositions.forEach((prevPosition) => {
                this.bestPositions.add(prevPosition);
            });

            return;
        }
        
        ...
    }
}
`}),e.jsx(P,{}),e.jsx(x,{hash:"recap",children:"Recap"}),e.jsxs(E,{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Part 1 Time"}),e.jsx("th",{children:"Part 1 Rank"}),e.jsx("th",{children:"Part 2 Time"}),e.jsx("th",{children:"Part 2 Rank"})]})}),e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{children:"01:00:26"}),e.jsx("td",{children:"3,787"}),e.jsx("td",{children:"23:23:38"}),e.jsx("td",{children:"17,941"})]})})]}),e.jsx("p",{children:"Part 1 was pretty easy! I reworked the code to be much closer to what I've got in Part 2, but my original solution wasn't very different from the end result."}),e.jsx("p",{children:"After spending ~4 consecutive hours on Part 2, I decided to call it for the night. It just wasn't clicking for me. I've used Dijkstra's algorithm before, but I just couldn't figure out how to use it here."}),e.jsx("p",{children:"I ended up keeping track of the previous positions of the path inside of the lead node. While this isn't very memory-efficient (I'm storing LOTS of sets in memory), it does make the retracing part very straightforward."})]})};export{F as component};
